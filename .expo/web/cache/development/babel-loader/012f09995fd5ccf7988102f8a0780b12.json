{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport createCSSStyleSheet from './createCSSStyleSheet';\nimport createCompileableStyle from './createCompileableStyle';\nimport createOrderedCSSStyleSheet from './createOrderedCSSStyleSheet';\nimport flattenArray from '../../modules/flattenArray';\nimport flattenStyle from './flattenStyle';\nimport I18nManager from '../I18nManager';\nimport i18nStyle from './i18nStyle';\nimport { atomic, classic, inline, stringifyValueWithProperty } from './compile';\nimport initialRules from './initialRules';\nimport modality from './modality';\nimport { STYLE_ELEMENT_ID, STYLE_GROUPS } from './constants';\nvar emptyObject = {};\nexport default function createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = createOrderedCSSStyleSheet(createCSSStyleSheet(STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    modality(function (rule) {\n      return sheet.insert(rule, STYLE_GROUPS.modality);\n    });\n    initialRules.forEach(function (rule) {\n      sheet.insert(rule, STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = stringifyValueWithProperty(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = createCompileableStyle(i18nStyle(flattenStyle(id)));\n      var results = atomic(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = STYLE_GROUPS.custom[property] || STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      flattenArray(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      props = _resolveStyle(style);\n    } else {\n      var flatArray = flattenArray(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style;\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style;\n\n    var _resolve = resolve([i18nStyle(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style;\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList));\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    });\n\n    _extends(style, rdomStyleNext);\n\n    return {\n      className: className,\n      style: style\n    };\n  }\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = flattenStyle(style);\n    var localizedStyle = createCompileableStyle(i18nStyle(flatStyle));\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = atomic((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.values(a).forEach(function (_ref) {\n              var identifier = _ref.identifier,\n                  rules = _ref.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            }\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = inline(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent();\n\n      if (!canUseDOM) {\n        init();\n      }\n\n      return {\n        id: STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = classic(style, name);\n        Object.values(compiled).forEach(function (_ref2) {\n          var identifier = _ref2.identifier,\n              rules = _ref2.rules;\n          resolved.css[identifier] = {\n            group: group || STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {};\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};","map":{"version":3,"sources":["/Users/calumharris/code/liana-moran/node_modules/react-native-web/dist/exports/StyleSheet/createStyleResolver.js"],"names":["i","arguments","source","ownKeys","Object","_defineProperty","key","value","enumerable","configurable","writable","obj","emptyObject","resolved","css","ltr","rtl","rtlNoSwap","init","inserted","sheet","createOrderedCSSStyleSheet","createCSSStyleSheet","lookup","byClassName","byProp","modality","STYLE_GROUPS","initialRules","prop","val","stringifyValueWithProperty","cache","doLeftAndRightSwapInRTL","I18nManager","isRTL","dir","style","createCompileableStyle","i18nStyle","flattenStyle","results","atomic","_results$key","identifier","property","rules","addToLookup","group","nextClassList","props","Array","flattenArray","item","_injectRegisteredStyle","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","id","_key","finalProps","className","classListToString","classList","_getDOMStyleInfo","getDOMStyleInfo","rdomClassList","rdomStyle","_rdomClassList$reduce","_getDeclaration","getDeclaration","styleProps","rnClassList","rnStyle","_resolve","resolve","rdomClassListNext","rdomStyleNext","_objectSpread","_getDeclaration2","flatStyle","localizedStyle","getClassName","styleProp","a","_atomic","_ref","inline","getStyleSheet","textContent","createCSS","result","compiled","classic","_ref2","resolveWithNode","prefix","list","hyphenPattern","toCamelCase","m","nodeStyle","node"],"mappings":"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","sourcesContent":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport createCSSStyleSheet from './createCSSStyleSheet';\nimport createCompileableStyle from './createCompileableStyle';\nimport createOrderedCSSStyleSheet from './createOrderedCSSStyleSheet';\nimport flattenArray from '../../modules/flattenArray';\nimport flattenStyle from './flattenStyle';\nimport I18nManager from '../I18nManager';\nimport i18nStyle from './i18nStyle';\nimport { atomic, classic, inline, stringifyValueWithProperty } from './compile';\nimport initialRules from './initialRules';\nimport modality from './modality';\nimport { STYLE_ELEMENT_ID, STYLE_GROUPS } from './constants';\nvar emptyObject = {};\nexport default function createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = createOrderedCSSStyleSheet(createCSSStyleSheet(STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    modality(function (rule) {\n      return sheet.insert(rule, STYLE_GROUPS.modality);\n    });\n    initialRules.forEach(function (rule) {\n      sheet.insert(rule, STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = stringifyValueWithProperty(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = createCompileableStyle(i18nStyle(flattenStyle(id)));\n      var results = atomic(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = STYLE_GROUPS.custom[property] || STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      flattenArray(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = flattenArray(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _resolve = resolve([i18nStyle(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    Object.assign(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = flattenStyle(style);\n    var localizedStyle = createCompileableStyle(i18nStyle(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = atomic((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.values(a).forEach(function (_ref) {\n              var identifier = _ref.identifier,\n                  rules = _ref.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = inline(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!canUseDOM) {\n        init();\n      }\n\n      return {\n        id: STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = classic(style, name);\n        Object.values(compiled).forEach(function (_ref2) {\n          var identifier = _ref2.identifier,\n              rules = _ref2.rules;\n          resolved.css[identifier] = {\n            group: group || STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n/**\n * Misc helpers\n */\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};"]},"metadata":{},"sourceType":"module"}